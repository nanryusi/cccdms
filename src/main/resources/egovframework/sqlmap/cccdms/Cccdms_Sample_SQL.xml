<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="sample">

	<typeAlias alias="sampleVO" type="egovframework.cccdms.sample.vo.CccdmsSampleVO"/>
	
	
	<select id="sample.selectCnt" parameterClass="sampleVO" resultClass="int">
            SELECT COUNT(*)
              FROM TB_SAMPLE
             WHERE DEL_YN = 'N'
	</select>
	
	<!-- 일반 로그인 -->
	<select id="sample.selectList" parameterClass="sampleVO" resultClass="sampleVO">
            SELECT seq_no seqNo
                 , title
                 , contents
                 , DATE_FORMAT(reg_dt, '%Y.%m.%d') regDt
                 , reg_id regId
                 , DATE_FORMAT(mod_dt, '%Y.%m.%d') modDt
                 , mod_id modId
                 , del_yn delYn
                 , DATE_FORMAT(del_dt, '%Y.%m.%d') delDt
                 , del_id delId
                 , view_cnt viewCnt
                 , view_yn viewYn
			  FROM TB_SAMPLE
             WHERE DEL_YN = 'N'
             ORDER BY seq_no DESC
             LIMIT #recordCountPerPage# OFFSET #firstIndex#
	</select>
</sqlMap>
